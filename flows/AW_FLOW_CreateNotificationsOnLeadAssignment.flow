<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <apiVersion>53.0</apiVersion>
    <assignments>
        <name>AW_AddRecordsToCollection</name>
        <label>Add Records To Collection</label>
        <locationX>694</locationX>
        <locationY>1051</locationY>
        <assignmentItems>
            <assignToReference>AW_CustomNotificationRecordsCollection</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>AW_EmailNotificationNewOwnerRecord0Minute</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>AW_CustomNotificationRecordsCollection</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>AW_CustomNotificationNewOwnerRecord0Minute</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>AW_CustomNotificationRecordsCollection</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>AW_CustomNotificationNewOwnerRecord15Minutes</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>AW_CustomNotificationRecordsCollection</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>AW_CustomNotificationNewOwnerRecord30Minutes</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>AW_CustomNotificationRecordsCollection</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>AW_CustomNotificationNewOwnerRecord45Minutes</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>AW_CustomTimeBasedNotificationRecords</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>AW_AddRecordToCollection</name>
        <label>Add Record To Collection</label>
        <locationX>1110</locationX>
        <locationY>663</locationY>
        <assignmentItems>
            <assignToReference>AW_CustomNotificationRecordsCollection</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>AW_CustomNotificationPriorOwnerRecord0Minute</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>AW_CreateRecordsOrDeleteRecords</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>AW_Create0MinuteOwnerEmail</name>
        <label>Create 0 Minute Owner Email</label>
        <locationX>1358</locationX>
        <locationY>967</locationY>
        <assignmentItems>
            <assignToReference>AW_EmailNotificationNewOwnerRecord0Minute.AW_NotificationTitle__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>AW_EmailSubject</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>AW_EmailNotificationNewOwnerRecord0Minute.AW_NotificationBody__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>AW_HtmlValueEmailBody</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>AW_EmailNotificationNewOwnerRecord0Minute.AW_NotificationDateTime__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Flow.CurrentDateTime</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>AW_EmailNotificationNewOwnerRecord0Minute.AW_Recipients__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Owner:User.Email</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>AW_EmailNotificationNewOwnerRecord0Minute.AW_NotificationType__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>AW_RichTextEmail</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>AW_Create0MinuteOwnerNotification</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>AW_Create0MinuteOwnerNotification</name>
        <label>Create 0 Minute Owner Notification</label>
        <locationX>1226</locationX>
        <locationY>1051</locationY>
        <assignmentItems>
            <assignToReference>AW_CustomNotificationNewOwnerRecord0Minute.AW_CustomNotificationAPIName__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>AW_CustomTimeBasedNotificationToNewAndPriorLeadOwner</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>AW_CustomNotificationNewOwnerRecord0Minute.AW_NotificationTitle__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>AW_AssignmentNotificationTitle</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>AW_CustomNotificationNewOwnerRecord0Minute.AW_NotificationBody__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>AW_0MinuteNotificationBody</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>AW_CustomNotificationNewOwnerRecord0Minute.AW_NotificationDateTime__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Flow.CurrentDateTime</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>AW_CustomNotificationNewOwnerRecord0Minute.AW_ParentId__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>AW_CustomNotificationNewOwnerRecord0Minute.AW_Recipients__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.OwnerId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>AW_CustomNotificationNewOwnerRecord0Minute.AW_TargetId__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>AW_CustomNotificationNewOwnerRecord0Minute.AW_NotificationType__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>AW_InAppPush</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>AW_Create15MinutesOwnerNotification</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>AW_Create0MinutePriorOwnerNotification</name>
        <label>Create 0 Minute Prior Owner Notification</label>
        <locationX>1110</locationX>
        <locationY>474</locationY>
        <assignmentItems>
            <assignToReference>AW_CustomNotificationPriorOwnerRecord0Minute.AW_CustomNotificationAPIName__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>AW_CustomTimeBasedNotificationToNewAndPriorLeadOwner</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>AW_CustomNotificationPriorOwnerRecord0Minute.AW_NotificationTitle__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>AW_PriorOwnerNotificationTitle</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>AW_CustomNotificationPriorOwnerRecord0Minute.AW_NotificationBody__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>AW_PriorOwnerNotificationBody</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>AW_CustomNotificationPriorOwnerRecord0Minute.AW_NotificationDateTime__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Flow.CurrentDateTime</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>AW_CustomNotificationPriorOwnerRecord0Minute.AW_ParentId__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>AW_CustomNotificationPriorOwnerRecord0Minute.AW_Recipients__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.OwnerId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>AW_CustomNotificationPriorOwnerRecord0Minute.AW_TargetId__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>AW_CustomNotificationPriorOwnerRecord0Minute.AW_NotificationType__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>AW_InAppPush</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>AW_AddRecordToCollection</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>AW_Create15MinutesOwnerNotification</name>
        <label>Create 15 Minutes Owner Notification</label>
        <locationX>1082</locationX>
        <locationY>1051</locationY>
        <assignmentItems>
            <assignToReference>AW_CustomNotificationNewOwnerRecord15Minutes.AW_CustomNotificationAPIName__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>AW_CustomTimeBasedNotificationToNewAndPriorLeadOwner</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>AW_CustomNotificationNewOwnerRecord15Minutes.AW_NotificationTitle__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>AW_AssignmentNotificationTitle</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>AW_CustomNotificationNewOwnerRecord15Minutes.AW_NotificationBody__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>AW_15MinutesNotificationBody</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>AW_CustomNotificationNewOwnerRecord15Minutes.AW_NotificationDateTime__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>AW_DateTimeOutput15Minutes</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>AW_CustomNotificationNewOwnerRecord15Minutes.AW_ParentId__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>AW_CustomNotificationNewOwnerRecord15Minutes.AW_Recipients__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.OwnerId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>AW_CustomNotificationNewOwnerRecord15Minutes.AW_TargetId__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>AW_CustomNotificationNewOwnerRecord15Minutes.AW_NotificationType__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>AW_InAppPush</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>AW_Create30MinutesOwnerNotification</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>AW_Create30MinutesOwnerNotification</name>
        <label>Create 30 Minutes Owner Notification</label>
        <locationX>948</locationX>
        <locationY>1051</locationY>
        <assignmentItems>
            <assignToReference>AW_CustomNotificationNewOwnerRecord30Minutes.AW_CustomNotificationAPIName__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>AW_CustomTimeBasedNotificationToNewAndPriorLeadOwner</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>AW_CustomNotificationNewOwnerRecord30Minutes.AW_NotificationTitle__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>AW_AssignmentNotificationTitle</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>AW_CustomNotificationNewOwnerRecord30Minutes.AW_NotificationBody__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>AW_30MinutesNotificationBody</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>AW_CustomNotificationNewOwnerRecord30Minutes.AW_NotificationDateTime__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>AW_DateTimeOutput30Minutes</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>AW_CustomNotificationNewOwnerRecord30Minutes.AW_ParentId__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>AW_CustomNotificationNewOwnerRecord30Minutes.AW_Recipients__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.OwnerId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>AW_CustomNotificationNewOwnerRecord30Minutes.AW_TargetId__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>AW_CustomNotificationNewOwnerRecord30Minutes.AW_NotificationType__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>AW_InAppPush</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>AW_Create45MinuteOwnerNotification</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>AW_Create45MinuteOwnerNotification</name>
        <label>Create 45 Minutes Owner Notification</label>
        <locationX>821</locationX>
        <locationY>1051</locationY>
        <assignmentItems>
            <assignToReference>AW_CustomNotificationNewOwnerRecord45Minutes.AW_CustomNotificationAPIName__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>AW_CustomTimeBasedNotificationToNewAndPriorLeadOwner</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>AW_CustomNotificationNewOwnerRecord45Minutes.AW_NotificationTitle__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>AW_AssignmentNotificationTitle</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>AW_CustomNotificationNewOwnerRecord45Minutes.AW_NotificationBody__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>AW_45MinutesNotificationBody</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>AW_CustomNotificationNewOwnerRecord45Minutes.AW_NotificationDateTime__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>AW_DateTimeOutput45Minutes</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>AW_CustomNotificationNewOwnerRecord45Minutes.AW_ParentId__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>AW_CustomNotificationNewOwnerRecord45Minutes.AW_Recipients__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.OwnerId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>AW_CustomNotificationNewOwnerRecord45Minutes.AW_TargetId__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>AW_CustomNotificationNewOwnerRecord45Minutes.AW_NotificationType__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>AW_InAppPush</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>AW_AddRecordsToCollection</targetReference>
        </connector>
    </assignments>
    <decisions>
        <name>AW_CreateRecords</name>
        <label>Create Records?</label>
        <locationX>551</locationX>
        <locationY>872</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>AW_NewOwnerRecords</name>
            <conditionLogic>1 AND 2 AND (3 OR 4 OR 5)</conditionLogic>
            <conditions>
                <leftValueReference>$Record.OwnerId</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>New</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.AW_LeadOwnerProfile__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Liberty Adviser</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.AW_LeadOwnerProfile__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Liberty Adviser Personal Assistant</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.AW_LeadOwnerProfile__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Liberty Sales Leader</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>AW_NotificationTime15BusinessMinutes</targetReference>
            </connector>
            <label>New Owner Records</label>
        </rules>
        <rules>
            <name>AW_PriorOwnerRecord</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>AW_CustomNotificationRecordsCollection</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>AW_CustomTimeBasedNotificationRecords</targetReference>
            </connector>
            <label>Prior Owner Record</label>
        </rules>
    </decisions>
    <decisions>
        <name>AW_CreateRecordsOrDeleteRecords</name>
        <label>Create Records Or Delete Records?</label>
        <locationX>809</locationX>
        <locationY>665</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>AW_NewLead</name>
            <conditionLogic>1 AND 2 AND (3 OR 4 OR 5)</conditionLogic>
            <conditions>
                <leftValueReference>AW_LeadIsNew</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>New</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.AW_LeadOwnerProfile__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Liberty Adviser</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.AW_LeadOwnerProfile__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Liberty Adviser Personal Assistant</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.AW_LeadOwnerProfile__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Liberty Sales Leader</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>AW_NotificationTime15BusinessMinutes</targetReference>
            </connector>
            <label>New Lead</label>
        </rules>
        <rules>
            <name>AW_OwnerIdOrStatusChanged</name>
            <conditionLogic>1 OR (2 AND 3)</conditionLogic>
            <conditions>
                <leftValueReference>$Record.OwnerId</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>New</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>AW_FLOW_DeleteCustomTimeBasedNotifications</targetReference>
            </connector>
            <label>Owner Id Or Status Changed</label>
        </rules>
    </decisions>
    <decisions>
        <name>AW_NotifyPriorOwner</name>
        <label>Notify Prior Owner?</label>
        <locationX>803</locationX>
        <locationY>475</locationY>
        <defaultConnector>
            <targetReference>AW_CreateRecordsOrDeleteRecords</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Yes</name>
            <conditionLogic>1 AND (2 OR 3 OR 4)</conditionLogic>
            <conditions>
                <leftValueReference>$Record.OwnerId</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record__Prior.AW_LeadOwnerProfile__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Liberty Adviser</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record__Prior.AW_LeadOwnerProfile__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Liberty Adviser Personal Assistant</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record__Prior.AW_LeadOwnerProfile__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Liberty Sales Leader</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>AW_Create0MinutePriorOwnerNotification</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <description>Creates custom time-based notification records on Lead Assignment.
The flow will also invoke &apos;AW_FLOW_SendCustomTimeBasedNotification&apos; flow which will be used to send notification according to the time defined in the notification records.
@author latika.kharbanda@accenture.com
@date October 2021
@updated by latika.kharbanda@accenture.com
@date September 2022, February 2023</description>
    <environments>Default</environments>
    <formulas>
        <name>AW_DateTimeInput15Minutes</name>
        <dataType>DateTime</dataType>
        <expression>{!$Flow.CurrentDateTime} + 15/1440</expression>
    </formulas>
    <formulas>
        <name>AW_DateTimeInput30Minutes</name>
        <dataType>DateTime</dataType>
        <expression>DATETIMEVALUE({!AW_ResultNotificationTime15BusinessMinutes}) + 15/1440</expression>
    </formulas>
    <formulas>
        <name>AW_DateTimeInput45Minutes</name>
        <dataType>DateTime</dataType>
        <expression>DATETIMEVALUE({!AW_ResultNotificationTime30BusinessMinutes}) + 15/1440</expression>
    </formulas>
    <formulas>
        <name>AW_DateTimeOutput15Minutes</name>
        <dataType>DateTime</dataType>
        <expression>DATETIMEVALUE({!AW_ResultNotificationTime15BusinessMinutes})</expression>
    </formulas>
    <formulas>
        <name>AW_DateTimeOutput30Minutes</name>
        <dataType>DateTime</dataType>
        <expression>DATETIMEVALUE({!AW_ResultNotificationTime30BusinessMinutes})</expression>
    </formulas>
    <formulas>
        <name>AW_DateTimeOutput45Minutes</name>
        <dataType>DateTime</dataType>
        <expression>DATETIMEVALUE({!AW_ResultNotificationTime45BusinessMinutes})</expression>
    </formulas>
    <formulas>
        <name>AW_LeadIsNew</name>
        <dataType>Boolean</dataType>
        <expression>(ISNEW())</expression>
    </formulas>
    <interviewLabel>Create Notifications On Lead Assignment {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Create Notifications On Lead Assignment</label>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>FREE_FORM_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>AutoLaunchedFlow</processType>
    <recordCreates>
        <name>AW_CustomTimeBasedNotificationRecords</name>
        <label>Custom Time-Based Notification Records</label>
        <locationX>560</locationX>
        <locationY>1051</locationY>
        <connector>
            <targetReference>AW_SetSendEmailNotificationToFalse</targetReference>
        </connector>
        <inputReference>AW_CustomNotificationRecordsCollection</inputReference>
    </recordCreates>
    <recordLookups>
        <name>AW_GetEmailTemplate</name>
        <label>Get Email Template</label>
        <locationX>1221</locationX>
        <locationY>871</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>AW_Create0MinuteOwnerEmail</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>DeveloperName</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>AW_LeadAssignmentNotificationToOwner</stringValue>
            </value>
        </filters>
        <object>EmailTemplate</object>
        <outputAssignments>
            <assignToReference>AW_HtmlValueEmailBody</assignToReference>
            <field>HtmlValue</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>AW_EmailSubject</assignToReference>
            <field>Subject</field>
        </outputAssignments>
    </recordLookups>
    <recordUpdates>
        <name>AW_SetSendEmailNotificationToFalse</name>
        <label>Set Send Email Notification To False</label>
        <locationX>421</locationX>
        <locationY>1051</locationY>
        <filterLogic>and</filterLogic>
        <filters>
            <field>AW_SendEmailNotification__c</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <inputAssignments>
            <field>AW_SendEmailNotification__c</field>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <start>
        <locationX>685</locationX>
        <locationY>189</locationY>
        <connector>
            <targetReference>AW_NotifyPriorOwner</targetReference>
        </connector>
        <filterLogic>(1 OR 2 OR 3 OR 4) AND (5 OR (6 AND 7))</filterLogic>
        <filters>
            <field>LeadSource</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Website</stringValue>
            </value>
        </filters>
        <filters>
            <field>LeadSource</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Contact Centre</stringValue>
            </value>
        </filters>
        <filters>
            <field>LeadSource</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Direct Financial Services</stringValue>
            </value>
        </filters>
        <filters>
            <field>LeadSource</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Standard Bank</stringValue>
            </value>
        </filters>
        <filters>
            <field>AW_Bulk_Lead__c</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <filters>
            <field>AW_Bulk_Lead__c</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <filters>
            <field>AW_SendEmailNotification__c</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <object>Lead</object>
        <recordTriggerType>CreateAndUpdate</recordTriggerType>
        <triggerType>RecordAfterSave</triggerType>
    </start>
    <status>Active</status>
    <subflows>
        <name>AW_FLOW_DeleteCustomTimeBasedNotifications</name>
        <label>Delete Custom Time-Based Notifications</label>
        <locationX>559</locationX>
        <locationY>667</locationY>
        <connector>
            <targetReference>AW_CreateRecords</targetReference>
        </connector>
        <flowName>AW_FLOW_DeleteCustomTimeBasedNotificationRecords</flowName>
        <inputAssignments>
            <name>AW_ParentId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>AW_NotificationTime15BusinessMinutes</name>
        <label>Notification Time 15 Business Minutes</label>
        <locationX>818</locationX>
        <locationY>871</locationY>
        <connector>
            <targetReference>AW_NotificationTime30BusinessMinutes</targetReference>
        </connector>
        <flowName>AW_FLOW_CalculateBusinessHours</flowName>
        <inputAssignments>
            <name>AW_DateTimeInput</name>
            <value>
                <elementReference>AW_DateTimeInput15Minutes</elementReference>
            </value>
        </inputAssignments>
        <outputAssignments>
            <assignToReference>AW_ResultNotificationTime15BusinessMinutes</assignToReference>
            <name>AW_NotificationTime</name>
        </outputAssignments>
    </subflows>
    <subflows>
        <name>AW_NotificationTime30BusinessMinutes</name>
        <label>Notification Time 30 Business Minutes</label>
        <locationX>957</locationX>
        <locationY>871</locationY>
        <connector>
            <targetReference>AW_NotificationTime45BusinessMinutes</targetReference>
        </connector>
        <flowName>AW_FLOW_CalculateBusinessHours</flowName>
        <inputAssignments>
            <name>AW_DateTimeInput</name>
            <value>
                <elementReference>AW_DateTimeInput30Minutes</elementReference>
            </value>
        </inputAssignments>
        <outputAssignments>
            <assignToReference>AW_ResultNotificationTime30BusinessMinutes</assignToReference>
            <name>AW_NotificationTime</name>
        </outputAssignments>
    </subflows>
    <subflows>
        <name>AW_NotificationTime45BusinessMinutes</name>
        <label>Notification Time 45 Business Minutes</label>
        <locationX>1087</locationX>
        <locationY>871</locationY>
        <connector>
            <targetReference>AW_GetEmailTemplate</targetReference>
        </connector>
        <flowName>AW_FLOW_CalculateBusinessHours</flowName>
        <inputAssignments>
            <name>AW_DateTimeInput</name>
            <value>
                <elementReference>AW_DateTimeInput45Minutes</elementReference>
            </value>
        </inputAssignments>
        <outputAssignments>
            <assignToReference>AW_ResultNotificationTime45BusinessMinutes</assignToReference>
            <name>AW_NotificationTime</name>
        </outputAssignments>
    </subflows>
    <textTemplates>
        <name>AW_0MinuteNotificationBody</name>
        <isViewedAsPlainText>true</isViewedAsPlainText>
        <text>The lead {!$Record.FirstName} {!$Record.LastName}, has been re-allocated to you.</text>
    </textTemplates>
    <textTemplates>
        <name>AW_15MinutesNotificationBody</name>
        <isViewedAsPlainText>true</isViewedAsPlainText>
        <text>15 Minutes Elapsed on Lead {!$Record.FirstName} {!$Record.LastName}, 45 Minutes remaining to contact this lead before re-allocation.</text>
    </textTemplates>
    <textTemplates>
        <name>AW_30MinutesNotificationBody</name>
        <isViewedAsPlainText>true</isViewedAsPlainText>
        <text>30 Minutes Elapsed on Lead {!$Record.FirstName} {!$Record.LastName}, 30 Minutes remaining to contact this lead before re-allocation.</text>
    </textTemplates>
    <textTemplates>
        <name>AW_45MinutesNotificationBody</name>
        <isViewedAsPlainText>true</isViewedAsPlainText>
        <text>45 Minutes Elapsed on Lead {!$Record.FirstName} {!$Record.LastName}, 15 Minutes remaining to contact this lead before re-allocation.</text>
    </textTemplates>
    <textTemplates>
        <name>AW_AssignmentNotificationTitle</name>
        <isViewedAsPlainText>true</isViewedAsPlainText>
        <text>You have a new lead!</text>
    </textTemplates>
    <textTemplates>
        <name>AW_PriorOwnerNotificationBody</name>
        <isViewedAsPlainText>true</isViewedAsPlainText>
        <text>The lead {!$Record.FirstName} {!$Record.LastName}, has been re-allocated to another Adviser.</text>
    </textTemplates>
    <textTemplates>
        <name>AW_PriorOwnerNotificationTitle</name>
        <isViewedAsPlainText>true</isViewedAsPlainText>
        <text>You have lost your lead!</text>
    </textTemplates>
    <variables>
        <name>AW_CustomNotificationNewOwnerRecord0Minute</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>AW_CustomTimeBasedNotification__c</objectType>
    </variables>
    <variables>
        <name>AW_CustomNotificationNewOwnerRecord15Minutes</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>AW_CustomTimeBasedNotification__c</objectType>
    </variables>
    <variables>
        <name>AW_CustomNotificationNewOwnerRecord30Minutes</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>AW_CustomTimeBasedNotification__c</objectType>
    </variables>
    <variables>
        <name>AW_CustomNotificationNewOwnerRecord45Minutes</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>AW_CustomTimeBasedNotification__c</objectType>
    </variables>
    <variables>
        <name>AW_CustomNotificationPriorOwnerRecord0Minute</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>AW_CustomTimeBasedNotification__c</objectType>
    </variables>
    <variables>
        <name>AW_CustomNotificationRecordsCollection</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>AW_CustomTimeBasedNotification__c</objectType>
    </variables>
    <variables>
        <name>AW_CustomNotificationRecordsToDelete</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>AW_CustomTimeBasedNotification__c</objectType>
    </variables>
    <variables>
        <name>AW_EmailNotificationNewOwnerRecord0Minute</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>AW_CustomTimeBasedNotification__c</objectType>
    </variables>
    <variables>
        <name>AW_EmailSubject</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>AW_HtmlValueEmailBody</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>AW_ResultNotificationTime15BusinessMinutes</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>AW_ResultNotificationTime30BusinessMinutes</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>AW_ResultNotificationTime45BusinessMinutes</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
</Flow>
